/*
 * jQuery UI Resizable 1.8.18
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Resizables
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.mouse.js
 *	jquery.ui.widget.js
 */
!function(g){g.widget("ui.resizable",g.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var e=this,t=this.options;if(this.element.addClass("ui-resizable"),g.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(g('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=t.handles||(g(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var i=this.handles.split(",");this.handles={};for(var s=0;s<i.length;s++){var h=g.trim(i[s]),n=g('<div class="ui-resizable-handle '+("ui-resizable-"+h)+'"></div>');/sw|se|ne|nw/.test(h)&&n.css({zIndex:++t.zIndex}),"se"==h&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[h]=".ui-resizable-"+h,this.element.append(n)}}this._renderAxis=function(t){for(var e in t=t||this.element,this.handles){if(this.handles[e].constructor==String&&(this.handles[e]=g(this.handles[e],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var i=g(this.handles[e],this.element),s=0;s=/sw|ne|nw|se|n|s/.test(e)?i.outerHeight():i.outerWidth();var h=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join("");t.css(h,s),this._proportionallyResize()}g(this.handles[e]).length}},this._renderAxis(this.element),this._handles=g(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!e.resizing){if(this.className)var t=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);e.axis=t&&t[1]?t[1]:"se"}}),t.autoHide&&(this._handles.hide(),g(this.element).addClass("ui-resizable-autohide").hover(function(){t.disabled||(g(this).removeClass("ui-resizable-autohide"),e._handles.show())},function(){t.disabled||e.resizing||(g(this).addClass("ui-resizable-autohide"),e._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var t=function(t){g(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){t(this.element);var e=this.element;e.after(this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(t){var e=!1;for(var i in this.handles)g(this.handles[i])[0]==t.target&&(e=!0);return!this.options.disabled&&e},_mouseStart:function(t){var e=this.options,i=this.element.position(),s=this.element;this.resizing=!0,this.documentScroll={top:g(document).scrollTop(),left:g(document).scrollLeft()},(s.is(".ui-draggable")||/absolute/.test(s.css("position")))&&s.css({position:"absolute",top:i.top,left:i.left}),this._renderProxy();var h=f(this.helper.css("left")),n=f(this.helper.css("top"));e.containment&&(h+=g(e.containment).scrollLeft()||0,n+=g(e.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:h,top:n},this.size=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalSize=this._helper?{width:s.outerWidth(),height:s.outerHeight()}:{width:s.width(),height:s.height()},this.originalPosition={left:h,top:n},this.sizeDiff={width:s.outerWidth()-s.width(),height:s.outerHeight()-s.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof e.aspectRatio?e.aspectRatio:this.originalSize.width/this.originalSize.height||1;var o=g(".ui-resizable-"+this.axis).css("cursor");return g("body").css("cursor","auto"==o?this.axis+"-resize":o),s.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.helper,i=(this.options,this.originalMousePosition),s=this.axis,h=t.pageX-i.left||0,n=t.pageY-i.top||0,o=this._change[s];if(!o)return!1;var a=o.apply(this,[t,h,n]);g.browser.msie&&g.browser.version,this.sizeDiff;return this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(a=this._updateRatio(a,t)),a=this._respectSize(a,t),this._propagate("resize",t),e.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(a),this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var e=this.options,i=this;if(this._helper){var s=this._proportionallyResizeElements,h=s.length&&/textarea/i.test(s[0].nodeName),n=h&&g.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,o=h?0:i.sizeDiff.width,a={width:i.helper.width()-o,height:i.helper.height()-n},r=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,l=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;e.animate||this.element.css(g.extend(a,{top:l,left:r})),i.helper.height(i.size.height),i.helper.width(i.size.width),this._helper&&!e.animate&&this._proportionallyResize()}return g("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,i,s,h,n,o=this.options;n={minWidth:c(o.minWidth)?o.minWidth:0,maxWidth:c(o.maxWidth)?o.maxWidth:Infinity,minHeight:c(o.minHeight)?o.minHeight:0,maxHeight:c(o.maxHeight)?o.maxHeight:Infinity},(this._aspectRatio||t)&&(e=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,i=n.maxHeight*this.aspectRatio,h=n.maxWidth/this.aspectRatio,e>n.minWidth&&(n.minWidth=e),s>n.minHeight&&(n.minHeight=s),i<n.maxWidth&&(n.maxWidth=i),h<n.maxHeight&&(n.maxHeight=h)),this._vBoundaries=n},_updateCache:function(t){this.options;this.offset=this.helper.offset(),c(t.left)&&(this.position.left=t.left),c(t.top)&&(this.position.top=t.top),c(t.height)&&(this.size.height=t.height),c(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){this.options;var e=this.position,i=this.size,s=this.axis;return c(t.height)?t.width=t.height*this.aspectRatio:c(t.width)&&(t.height=t.width/this.aspectRatio),"sw"==s&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"==s&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t,e){this.helper;var i=this._vBoundaries,s=(this._aspectRatio||e.shiftKey,this.axis),h=c(t.width)&&i.maxWidth&&i.maxWidth<t.width,n=c(t.height)&&i.maxHeight&&i.maxHeight<t.height,o=c(t.width)&&i.minWidth&&i.minWidth>t.width,a=c(t.height)&&i.minHeight&&i.minHeight>t.height;o&&(t.width=i.minWidth),a&&(t.height=i.minHeight),h&&(t.width=i.maxWidth),n&&(t.height=i.maxHeight);var r=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,p=/sw|nw|w/.test(s),d=/nw|ne|n/.test(s);o&&p&&(t.left=r-i.minWidth),h&&p&&(t.left=r-i.maxWidth),a&&d&&(t.top=l-i.minHeight),n&&d&&(t.top=l-i.maxHeight);var g=!t.width&&!t.height;return g&&!t.left&&t.top?t.top=null:g&&!t.top&&t.left&&(t.left=null),t},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var t=this.helper||this.element,e=0;e<this._proportionallyResizeElements.length;e++){var i=this._proportionallyResizeElements[e];if(!this.borderDif){var s=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],h=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];this.borderDif=g.map(s,function(t,e){return(parseInt(t,10)||0)+(parseInt(h[e],10)||0)})}g.browser.msie&&(g(t).is(":hidden")||g(t).parents(":hidden").length)||i.css({height:t.height()-this.borderDif[0]-this.borderDif[2]||0,width:t.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,e=this.options;if(this.elementOffset=t.offset(),this._helper){this.helper=this.helper||g('<div style="overflow:hidden;"></div>');var i=g.browser.msie&&g.browser.version<7,s=i?1:0,h=i?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+h,height:this.element.outerHeight()+h,position:"absolute",left:this.elementOffset.left-s+"px",top:this.elementOffset.top-s+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){this.options;var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){this.options;var s=this.originalSize;return{top:this.originalPosition.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(t,e,i){return g.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},sw:function(t,e,i){return g.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,i]))},ne:function(t,e,i){return g.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,i]))},nw:function(t,e,i){return g.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,i]))}},_propagate:function(t,e){g.ui.plugin.call(this,t,[e,this.ui()]),"resize"!=t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),g.extend(g.ui.resizable,{version:"1.8.18"}),g.ui.plugin.add("resizable","alsoResize",{start:function(){var t=g(this).data("resizable").options,e=function(t){g(t).each(function(){var t=g(this);t.data("resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof t.alsoResize||t.alsoResize.parentNode?e(t.alsoResize):t.alsoResize.length?(t.alsoResize=t.alsoResize[0],e(t.alsoResize)):g.each(t.alsoResize,function(t){e(t)})},resize:function(t,n){var e=g(this).data("resizable"),i=e.options,s=e.originalSize,h=e.originalPosition,o={height:e.size.height-s.height||0,width:e.size.width-s.width||0,top:e.position.top-h.top||0,left:e.position.left-h.left||0},a=function(t,i){g(t).each(function(){var t=g(this),s=g(this).data("resizable-alsoresize"),h={},e=i&&i.length?i:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];g.each(e,function(t,e){var i=(s[e]||0)+(o[e]||0);i&&0<=i&&(h[e]=i||null)}),t.css(h)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?a(i.alsoResize):g.each(i.alsoResize,function(t,e){a(t,e)})},stop:function(){g(this).removeData("resizable-alsoresize")}}),g.ui.plugin.add("resizable","animate",{stop:function(e){var i=g(this).data("resizable"),t=i.options,s=i._proportionallyResizeElements,h=s.length&&/textarea/i.test(s[0].nodeName),n=h&&g.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,o=h?0:i.sizeDiff.width,a={width:i.size.width-o,height:i.size.height-n},r=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,l=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(g.extend(a,l&&r?{top:l,left:r}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&g(s[0]).css({width:t.width,height:t.height}),i._updateCache(t),i._propagate("resize",e)}})}}),g.ui.plugin.add("resizable","containment",{start:function(){var t=g(this).data("resizable"),e=t.options,i=t.element,s=e.containment,h=s instanceof g?s.get(0):/parent/.test(s)?i.parent().get(0):s;if(h)if(t.containerElement=g(h),/document/.test(s)||s==document)t.containerOffset={left:0,top:0},t.containerPosition={left:0,top:0},t.parentData={element:g(document),left:0,top:0,width:g(document).width(),height:g(document).height()||document.body.parentNode.scrollHeight};else{var n=g(h),o=[];g(["Top","Right","Left","Bottom"]).each(function(t,e){o[t]=f(n.css("padding"+e))}),t.containerOffset=n.offset(),t.containerPosition=n.position(),t.containerSize={height:n.innerHeight()-o[3],width:n.innerWidth()-o[1]};var a=t.containerOffset,r=t.containerSize.height,l=t.containerSize.width,p=g.ui.hasScroll(h,"left")?h.scrollWidth:l,d=g.ui.hasScroll(h)?h.scrollHeight:r;t.parentData={element:h,left:a.left,top:a.top,width:p,height:d}}},resize:function(t){var e=g(this).data("resizable"),i=e.options,s=(e.containerSize,e.containerOffset),h=(e.size,e.position),n=e._aspectRatio||t.shiftKey,o={top:0,left:0},a=e.containerElement;a[0]!=document&&/static/.test(a.css("position"))&&(o=s),h.left<(e._helper?s.left:0)&&(e.size.width=e.size.width+(e._helper?e.position.left-s.left:e.position.left-o.left),n&&(e.size.height=e.size.width/i.aspectRatio),e.position.left=i.helper?s.left:0),h.top<(e._helper?s.top:0)&&(e.size.height=e.size.height+(e._helper?e.position.top-s.top:e.position.top),n&&(e.size.width=e.size.height*i.aspectRatio),e.position.top=e._helper?s.top:0),e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top;var r=Math.abs((e._helper,e.offset.left-o.left+e.sizeDiff.width)),l=Math.abs((e._helper?e.offset.top-o.top:e.offset.top-s.top)+e.sizeDiff.height),p=e.containerElement.get(0)==e.element.parent().get(0),d=/relative|absolute/.test(e.containerElement.css("position"));p&&d&&(r-=e.parentData.left),r+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-r,n&&(e.size.height=e.size.width/e.aspectRatio)),l+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-l,n&&(e.size.width=e.size.height*e.aspectRatio))},stop:function(){var t=g(this).data("resizable"),e=t.options,i=(t.position,t.containerOffset),s=t.containerPosition,h=t.containerElement,n=g(t.helper),o=n.offset(),a=n.outerWidth()-t.sizeDiff.width,r=n.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(h.css("position"))&&g(this).css({left:o.left-s.left-i.left,width:a,height:r}),t._helper&&!e.animate&&/static/.test(h.css("position"))&&g(this).css({left:o.left-s.left-i.left,width:a,height:r})}}),g.ui.plugin.add("resizable","ghost",{start:function(){var t=g(this).data("resizable"),e=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof e.ghost?e.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=g(this).data("resizable");t.options;t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=g(this).data("resizable");t.options;t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),g.ui.plugin.add("resizable","grid",{resize:function(t){var e=g(this).data("resizable"),i=e.options,s=e.size,h=e.originalSize,n=e.originalPosition,o=e.axis;i._aspectRatio||t.shiftKey;i.grid="number"==typeof i.grid?[i.grid,i.grid]:i.grid;var a=Math.round((s.width-h.width)/(i.grid[0]||1))*(i.grid[0]||1),r=Math.round((s.height-h.height)/(i.grid[1]||1))*(i.grid[1]||1);/^(se|s|e)$/.test(o)?(e.size.width=h.width+a,e.size.height=h.height+r):/^(ne)$/.test(o)?(e.size.width=h.width+a,e.size.height=h.height+r,e.position.top=n.top-r):(/^(sw)$/.test(o)?(e.size.width=h.width+a,e.size.height=h.height+r):(e.size.width=h.width+a,e.size.height=h.height+r,e.position.top=n.top-r),e.position.left=n.left-a)}});var f=function(t){return parseInt(t,10)||0},c=function(t){return!isNaN(parseInt(t,10))}}(jQuery);