/*
 * jQuery UI Widget 1.10.0+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(p,s){var i=0,l=Array.prototype.slice,r=p.cleanData;p.cleanData=function(e){for(var t,i=0;null!=(t=e[i]);i++)try{p(t).triggerHandler("remove")}catch(n){}r(e)},p.widget=function(e,i,t){var n,r,a,o,s={},l=e.split(".")[0];e=e.split(".")[1],n=l+"-"+e,t||(t=i,i=p.Widget),p.expr[":"][n.toLowerCase()]=function(e){return!!p.data(e,n)},p[l]=p[l]||{},r=p[l][e],a=p[l][e]=function(e,t){if(!this._createWidget)return new a(e,t);arguments.length&&this._createWidget(e,t)},p.extend(a,r,{version:t.version,_proto:p.extend({},t),_childConstructors:[]}),(o=new i).options=p.widget.extend({},o.options),p.each(t,function(t,n){var r,a;p.isFunction(n)?s[t]=(r=function(){return i.prototype[t].apply(this,arguments)},a=function(e){return i.prototype[t].apply(this,e)},function(){var e,t=this._super,i=this._superApply;return this._super=r,this._superApply=a,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}):s[t]=n}),a.prototype=p.widget.extend(o,{widgetEventPrefix:r?o.widgetEventPrefix:e},s,{constructor:a,namespace:l,widgetName:e,widgetFullName:n}),r?(p.each(r._childConstructors,function(e,t){var i=t.prototype;p.widget(i.namespace+"."+i.widgetName,a,t._proto)}),delete r._childConstructors):i._childConstructors.push(a),p.widget.bridge(e,a)},p.widget.extend=function(e){for(var t,i,n=l.call(arguments,1),r=0,a=n.length;r<a;r++)for(t in n[r])i=n[r][t],n[r].hasOwnProperty(t)&&i!==s&&(p.isPlainObject(i)?e[t]=p.isPlainObject(e[t])?p.widget.extend({},e[t],i):p.widget.extend({},i):e[t]=i);return e},p.widget.bridge=function(a,t){var o=t.prototype.widgetFullName||a;p.fn[a]=function(i){var e="string"==typeof i,n=l.call(arguments,1),r=this;return i=!e&&n.length?p.widget.extend.apply(null,[i].concat(n)):i,e?this.each(function(){var e,t=p.data(this,o);return t?p.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,n))!==t&&e!==s?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:p.error("no such method '"+i+"' for "+a+" widget instance"):p.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+i+"'")}):this.each(function(){var e=p.data(this,o);e?e.option(i||{})._init():p.data(this,o,new t(i,this))}),r}},p.Widget=function(){},p.Widget._childConstructors=[],p.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=p(t||this.defaultElement||this)[0],this.element=p(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=p.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=p(),this.hoverable=p(),this.focusable=p(),t!==this&&(p.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=p(t.style?t.ownerDocument:t.document||t),this.window=p(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:p.noop,_getCreateEventData:p.noop,_create:p.noop,_init:p.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(p.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:p.noop,widget:function(){return this.element},option:function(e,t){var i,n,r,a=e;if(0===arguments.length)return p.widget.extend({},this.options);if("string"==typeof e)if(a={},e=(i=e.split(".")).shift(),i.length){for(n=a[e]=p.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)n[i[r]]=n[i[r]]||{},n=n[i[r]];if(e=i.pop(),t===s)return n[e]===s?null:n[e];n[e]=t}else{if(t===s)return this.options[e]===s?null:this.options[e];a[e]=t}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(o,s,e){var l,u=this;"boolean"!=typeof o&&(e=s,s=o,o=!1),e?(s=l=p(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,l=this.widget()),p.each(e,function(e,t){function i(){if(o||!0!==u.options.disabled&&!p(this).hasClass("ui-state-disabled"))return("string"==typeof t?u[t]:t).apply(u,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||p.guid++);var n=e.match(/^(\w+)\s*(.*)$/),r=n[1]+u.eventNamespace,a=n[2];a?l.delegate(a,r,i):s.bind(r,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){p(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){p(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){p(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){p(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,i){var n,r,a=this.options[e];if(i=i||{},(t=p.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(n in r)n in t||(t[n]=r[n]);return this.element.trigger(t,i),!(p.isFunction(a)&&!1===a.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},p.each({show:"fadeIn",hide:"fadeOut"},function(a,o){p.Widget.prototype["_"+a]=function(t,e,i){"string"==typeof e&&(e={effect:e});var n,r=e?!0===e||"number"==typeof e?o:e.effect||o:a;"number"==typeof(e=e||{})&&(e={duration:e}),n=!p.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),n&&p.effects&&p.effects.effect[r]?t[a](e):r!==a&&t[r]?t[r](e.duration,e.easing,i):t.queue(function(e){p(this)[a](),i&&i.call(t[0]),e()})}})}),
/*
 * jQuery Iframe Transport Plugin 1.6.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(s){"use strict";var n=0;s.ajaxTransport("iframe",function(r){var a,o,t;if(r.async)return{send:function(e,i){(a=s('<form style="display:none;"></form>')).attr("accept-charset",r.formAcceptCharset),t=/\?/.test(r.url)?"&":"?","DELETE"===r.type?(r.url=r.url+t+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+t+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+t+"_method=PATCH",r.type="POST"),o=s('<iframe src="javascript:false;" name="iframe-transport-'+(n+=1)+'"></iframe>').bind("load",function(){var n,t=s.isArray(r.paramName)?r.paramName:[r.paramName];o.unbind("load").bind("load",function(){var e;try{if(!(e=o.contents()).length||!e[0].firstChild)throw new Error}catch(t){e=undefined}i(200,"success",{iframe:e}),s('<iframe src="javascript:false;"></iframe>').appendTo(a),a.remove()}),a.prop("target",o.prop("name")).prop("action",r.url).prop("method",r.type),r.formData&&s.each(r.formData,function(e,t){s('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(a)}),r.fileInput&&r.fileInput.length&&"POST"===r.type&&(n=r.fileInput.clone(),r.fileInput.after(function(e){return n[e]}),r.paramName&&r.fileInput.each(function(e){s(this).prop("name",t[e]||r.paramName)}),a.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),a.submit(),n&&n.length&&r.fileInput.each(function(e,t){var i=s(n[e]);s(t).prop("name",i.prop("name")),i.replaceWith(t)})}),a.append(o).appendTo(document.body)},abort:function(){o&&o.unbind("load").prop("src","javascript".concat(":false;")),a&&a.remove()}}}),s.ajaxSetup({converters:{"iframe text":function(e){return e&&s(e[0].body).text()},"iframe json":function(e){return e&&s.parseJSON(s(e[0].body).text())},"iframe html":function(e){return e&&s(e[0].body).html()},"iframe script":function(e){return e&&s.globalEval(s(e[0].body).text())}}})}),
/*
 * jQuery File Upload Plugin 5.21
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(f){"use strict";f.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),f.support.xhrFormDataFileUpload=!!window.FormData,f.propHooks.elements={get:function(e){return f.nodeName(e,"form")?f.grep(e.elements,function(e){return!f.nodeName(e,"input")||"file"!==e.type}):null}},f.widget("blueimp.fileupload",{options:{dropZone:f(document),pasteZone:f(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(e){return e.serializeArray()},add:function(e,t){t.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||i<n)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&f.support.xhrFileUpload||f.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"==typeof e.formData?e.formData(e.form):f.isArray(e.formData)?e.formData:e.formData?(i=[],f.each(e.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(e){var i=0;return f.each(e,function(e,t){i+=t.size||1}),i},_onProgress:function(e,t){if(e.lengthComputable){var i,n,r=+new Date;if(t._time&&t.progressInterval&&r-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=r,i=t.total||this._getTotal(t.files),n=parseInt(e.loaded/e.total*(t.chunkSize||i),10)+(t.uploadedBytes||0),this._loaded+=n-(t.loaded||t.uploadedBytes||0),t.lengthComputable=!0,t.loaded=n,t.total=i,t.bitrate=t._bitrateTimer.getBitrate(r,n,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(r,this._loaded,t.bitrateInterval)})}},_initProgressListener:function(i){var n=this,e=i.xhr?i.xhr():f.ajaxSettings.xhr();e.upload&&(f(e.upload).bind("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,n._onProgress(e,i)}),i.xhr=function(){return e})},_initXHRData:function(i){var n,e=i.files[0],t=i.multipart||!f.support.xhrFileUpload,r=i.paramName[0];i.headers=i.headers||{},i.contentRange&&(i.headers["Content-Range"]=i.contentRange),t?f.support.xhrFormDataFileUpload&&(i.postMessage?(n=this._getFormData(i),i.blob?n.push({name:r,value:i.blob}):f.each(i.files,function(e,t){n.push({name:i.paramName[e]||r,value:t})})):(i.formData instanceof FormData?n=i.formData:(n=new FormData,f.each(this._getFormData(i),function(e,t){n.append(t.name,t.value)})),i.blob?(i.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"',n.append(r,i.blob,e.name)):f.each(i.files,function(e,t){(window.Blob&&t instanceof Blob||window.File&&t instanceof File)&&n.append(i.paramName[e]||r,t,t.name)})),i.data=n):(i.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"',i.contentType=e.type,i.data=i.blob||e),i.blob=null},_initIframeSettings:function(e){e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&f("<a></a>").prop("href",e.url).prop("host")!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e,"iframe")},_getParamName:function(e){var t=f(e.fileInput),n=e.paramName;return n?f.isArray(n)||(n=[n]):(n=[],t.each(function(){for(var e=f(this),t=e.prop("name")||"files[]",i=(e.prop("files")||[1]).length;i;)n.push(t),i-=1}),n.length||(n=[t.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=f(e.fileInput.prop("form")),e.form.length||(e.form=f(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=f.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,i){var n=f.Deferred(),r=n.promise();return t=t||this.options.context||r,!0===e?n.resolveWith(t,i):!1===e&&n.rejectWith(t,i),r.abort=n.promise,this._enhancePromise(r)},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&1<i.length&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(r,e){var t,a,o=this,i=r.files[0],s=i.size,l=r.uploadedBytes=r.uploadedBytes||0,u=r.maxChunkSize||s,p=i.slice||i.webkitSlice||i.mozSlice,d=f.Deferred(),n=d.promise();return!(!(this._isXHRUpload(r)&&p&&(l||u<s))||r.data)&&(!!e||(s<=l?(i.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,r.context,[null,"error",i.error])):(a=function(){var n=f.extend({},r);n.blob=p.call(i,l,l+u,i.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,o._initXHRData(n),o._initProgressListener(n),t=(!1!==o._trigger("chunksend",null,n)&&f.ajax(n)||o._getXHRPromise(!1,n.context)).done(function(e,t,i){l=o._getUploadedBytes(i)||l+n.chunkSize,(!n.loaded||n.loaded<n.total)&&o._onProgress(f.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),r.uploadedBytes=n.uploadedBytes=l,n.result=e,n.textStatus=t,n.jqXHR=i,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),l<s?a():d.resolveWith(n.context,[e,t,i])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),d.rejectWith(n.context,[e,t,i])})},this._enhancePromise(n),n.abort=function(){return t.abort()},a(),n)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=t.uploadedBytes||0,this._total+=this._getTotal(t.files)},_onDone:function(e,t,i,n){if(!this._isXHRUpload(n)||!n.loaded||n.loaded<n.total){var r=this._getTotal(n.files)||1;this._onProgress(f.Event("progress",{lengthComputable:!0,loaded:r,total:r}),n)}n.result=e,n.textStatus=t,n.jqXHR=i,this._trigger("done",null,n)},_onFail:function(e,t,i,n){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,this._trigger("fail",null,n),n.recalculateProgress&&(this._loaded-=n.loaded||n.uploadedBytes||0,this._total-=n.total||this._getTotal(n.files))},_onAlways:function(e,t,i,n){this._active-=1,this._trigger("always",null,n),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(e,t){var i,n,r,a,o=this,s=o._getAJAXSettings(t),l=function(){return o._sending+=1,s._bitrateTimer=new o._BitrateTimer,i=i||((n||!1===o._trigger("send",e,s))&&o._getXHRPromise(!1,s.context,n)||o._chunkedUpload(s)||f.ajax(s)).done(function(e,t,i){o._onDone(e,t,i,s)}).fail(function(e,t,i){o._onFail(e,t,i,s)}).always(function(e,t,i){if(o._sending-=1,o._onAlways(e,t,i,s),s.limitConcurrentUploads&&s.limitConcurrentUploads>o._sending)for(var n=o._slots.shift();n;){if(n.state?"pending"===n.state():!n.isRejected()){n.resolve();break}n=o._slots.shift()}})};return this._beforeSend(e,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?((a=1<this.options.limitConcurrentUploads?(r=f.Deferred(),this._slots.push(r),r.pipe(l)):this._sequence=this._sequence.pipe(l,l)).abort=function(){return n=[undefined,"abort","abort"],i?i.abort():(r&&r.rejectWith(s.context,n),l())},this._enhancePromise(a)):l()},_onAdd:function(n,r){var a,e,o,t,s=this,l=!0,i=f.extend({},this.options,r),u=i.limitMultiFileUploads,p=this._getParamName(i);if((i.singleFileUploads||u)&&this._isXHRUpload(i))if(!i.singleFileUploads&&u)for(o=[],a=[],t=0;t<r.files.length;t+=u)o.push(r.files.slice(t,t+u)),(e=p.slice(t,t+u)).length||(e=p),a.push(e);else a=p;else o=[r.files],a=[p];return r.originalFiles=r.files,f.each(o||r.files,function(e,t){var i=f.extend({},r);return i.files=o?t:[t],i.paramName=a[e],i.submit=function(){return i.jqXHR=this.jqXHR=!1!==s._trigger("submit",n,this)&&s._onSend(n,this),this.jqXHR},l=s._trigger("add",n,i)}),l},_replaceFileInput:function(i){var n=i.clone(!0);f("<form></form>").append(n)[0].reset(),i.after(n).detach(),f.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?n[0]:t}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,i){var n=this,r=f.Deferred(),a=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])};return i=i||"",t.isFile?t._file?(t._file.relativePath=i,r.resolve(t._file)):t.file(function(e){e.relativePath=i,r.resolve(e)},a):t.isDirectory?t.createReader().readEntries(function(e){n._handleFileTreeEntries(e,i+t.name+"/").done(function(e){r.resolve(e)}).fail(a)},a):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,t){var i=this;return f.when.apply(f,f.map(e,function(e){return i._handleFileTreeEntry(e,t)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(f.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):f.Deferred().resolve(f.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t,i,n=(e=f(e)).prop("webkitEntries")||e.prop("entries");if(n&&n.length)return this._handleFileTreeEntries(n);if((t=f.makeArray(e.prop("files"))).length)t[0].name===undefined&&t[0].fileName&&f.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(i=e.prop("value")))return f.Deferred().resolve([]).promise();t=[{name:i.replace(/^.*\\/,"")}]}return f.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof f&&1!==e.length?f.when.apply(f,f.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var i=this,n={fileInput:f(t.target),form:f(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(e){n.files=e,i.options.replaceFileInput&&i._replaceFileInput(n.fileInput),!1!==i._trigger("change",t,n)&&i._onAdd(t,n)})},_onPaste:function(e){var t=e.originalEvent.clipboardData,i=t&&t.items||[],n={files:[]};if(f.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&n.files.push(i)}),!1===this._trigger("paste",e,n)||!1===this._onAdd(e,n))return!1},_onDrop:function(t){var i=this,e=t.dataTransfer=t.originalEvent.dataTransfer,n={};e&&e.files&&e.files.length&&t.preventDefault(),this._getDroppedFiles(e).always(function(e){n.files=e,!1!==i._trigger("drop",t,n)&&i._onAdd(t,n)})},_onDragOver:function(e){var t=e.dataTransfer=e.originalEvent.dataTransfer;if(!1===this._trigger("dragover",e))return!1;t&&-1!==f.inArray("Files",t.types)&&(t.dropEffect="copy",e.preventDefault())},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,t){var i=-1!==f.inArray(e,this._refreshOptionsList);i&&this._destroyEventHandlers(),this._super(e,t),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof f||(e.fileInput=f(e.fileInput)),e.dropZone instanceof f||(e.dropZone=f(e.dropZone)),e.pasteZone instanceof f||(e.pasteZone=f(e.pasteZone))},_create:function(){var e=this.options;f.extend(e,f(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=f.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,n,r=this,a=f.Deferred(),e=a.promise();return e.abort=function(){return n=!0,i?i.abort():(a.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){n||(t.files=e,i=r._onSend(null,t).then(function(e,t,i){a.resolve(e,t,i)},function(e,t,i){a.reject(e,t,i)}))}),this._enhancePromise(e)}if(t.files=f.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})});