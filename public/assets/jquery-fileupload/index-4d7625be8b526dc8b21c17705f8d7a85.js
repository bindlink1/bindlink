/*
 * jQuery UI Widget 1.10.0+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(u,s){var i=0,l=Array.prototype.slice,r=u.cleanData;u.cleanData=function(e){for(var t,i=0;null!=(t=e[i]);i++)try{u(t).triggerHandler("remove")}catch(n){}r(e)},u.widget=function(e,i,t){var n,r,o,a,s={},l=e.split(".")[0];e=e.split(".")[1],n=l+"-"+e,t||(t=i,i=u.Widget),u.expr[":"][n.toLowerCase()]=function(e){return!!u.data(e,n)},u[l]=u[l]||{},r=u[l][e],o=u[l][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},u.extend(o,r,{version:t.version,_proto:u.extend({},t),_childConstructors:[]}),(a=new i).options=u.widget.extend({},a.options),u.each(t,function(t,n){var r,o;u.isFunction(n)?s[t]=(r=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)},function(){var e,t=this._super,i=this._superApply;return this._super=r,this._superApply=o,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}):s[t]=n}),o.prototype=u.widget.extend(a,{widgetEventPrefix:r?a.widgetEventPrefix:e},s,{constructor:o,namespace:l,widgetName:e,widgetFullName:n}),r?(u.each(r._childConstructors,function(e,t){var i=t.prototype;u.widget(i.namespace+"."+i.widgetName,o,t._proto)}),delete r._childConstructors):i._childConstructors.push(o),u.widget.bridge(e,o)},u.widget.extend=function(e){for(var t,i,n=l.call(arguments,1),r=0,o=n.length;r<o;r++)for(t in n[r])i=n[r][t],n[r].hasOwnProperty(t)&&i!==s&&(u.isPlainObject(i)?e[t]=u.isPlainObject(e[t])?u.widget.extend({},e[t],i):u.widget.extend({},i):e[t]=i);return e},u.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;u.fn[o]=function(i){var e="string"==typeof i,n=l.call(arguments,1),r=this;return i=!e&&n.length?u.widget.extend.apply(null,[i].concat(n)):i,e?this.each(function(){var e,t=u.data(this,a);return t?u.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,n))!==t&&e!==s?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:u.error("no such method '"+i+"' for "+o+" widget instance"):u.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):this.each(function(){var e=u.data(this,a);e?e.option(i||{})._init():u.data(this,a,new t(i,this))}),r}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=u(t||this.defaultElement||this)[0],this.element=u(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=u.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=u(),this.hoverable=u(),this.focusable=u(),t!==this&&(u.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=u(t.style?t.ownerDocument:t.document||t),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:u.noop,_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(u.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:u.noop,widget:function(){return this.element},option:function(e,t){var i,n,r,o=e;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(i=e.split(".")).shift(),i.length){for(n=o[e]=u.widget.extend({},this.options[e]),r=0;r<i.length-1;r++)n[i[r]]=n[i[r]]||{},n=n[i[r]];if(e=i.pop(),t===s)return n[e]===s?null:n[e];n[e]=t}else{if(t===s)return this.options[e]===s?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(a,s,e){var l,d=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=l=u(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,l=this.widget()),u.each(e,function(e,t){function i(){if(a||!0!==d.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof t?d[t]:t).apply(d,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||u.guid++);var n=e.match(/^(\w+)\s*(.*)$/),r=n[1]+d.eventNamespace,o=n[2];o?l.delegate(o,r,i):s.bind(r,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){u(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){u(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){u(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){u(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,i){var n,r,o=this.options[e];if(i=i||{},(t=u.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(n in r)n in t||(t[n]=r[n]);return this.element.trigger(t,i),!(u.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(o,a){u.Widget.prototype["_"+o]=function(t,e,i){"string"==typeof e&&(e={effect:e});var n,r=e?!0===e||"number"==typeof e?a:e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),n=!u.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),n&&u.effects&&u.effects.effect[r]?t[o](e):r!==o&&t[r]?t[r](e.duration,e.easing,i):t.queue(function(e){u(this)[o](),i&&i.call(t[0]),e()})}})}),
/*
 * JavaScript Load Image 1.2.1
 * https://github.com/blueimp/JavaScript-Load-Image
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";var a=function(e,t,i){var n,r,o=document.createElement("img");return o.onerror=t,o.onload=function(){!r||i&&i.noRevoke||a.revokeObjectURL(r),t(a.scale(o,i))},(n=window.Blob&&e instanceof Blob||window.File&&e instanceof File?r=a.createObjectURL(e):e)?(o.src=n,o):a.readFile(e,function(e){o.src=e})},t=window.createObjectURL&&window||window.URL&&URL.revokeObjectURL&&URL||window.webkitURL&&webkitURL;a.scale=function(e,t){t=t||{};var i=document.createElement("canvas"),n=e.width,r=e.height,o=Math.max((t.minWidth||n)/n,(t.minHeight||r)/r);return 1<o&&(n=parseInt(n*o,10),r=parseInt(r*o,10)),(o=Math.min((t.maxWidth||n)/n,(t.maxHeight||r)/r))<1&&(n=parseInt(n*o,10),r=parseInt(r*o,10)),e.getContext||t.canvas&&i.getContext?(i.width=n,i.height=r,i.getContext("2d").drawImage(e,0,0,n,r),i):(e.width=n,e.height=r,e)},a.createObjectURL=function(e){return!!t&&t.createObjectURL(e)},a.revokeObjectURL=function(e){return!!t&&t.revokeObjectURL(e)},a.readFile=function(e,t){if(window.FileReader&&FileReader.prototype.readAsDataURL){var i=new FileReader;return i.onload=function(e){t(e.target.result)},i.readAsDataURL(e),i}return!1},"function"==typeof define&&define.amd?define(function(){return a}):e.loadImage=a}(this),
/*
 * JavaScript Canvas to Blob 2.0.3
 * https://github.com/blueimp/JavaScript-Canvas-to-Blob
 *
 * Copyright 2012, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 *
 * Based on stackoverflow user Stoive's code snippet:
 * http://stackoverflow.com/q/4998908
 */
function(e){"use strict";var t=e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype,s=e.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),l=s&&e.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),d=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||e.MSBlobBuilder,i=(s||d)&&e.atob&&e.ArrayBuffer&&e.Uint8Array&&function(e){var t,i,n,r,o,a;for(t=0<=e.split(",")[0].indexOf("base64")?atob(e.split(",")[1]):decodeURIComponent(e.split(",")[1]),i=new ArrayBuffer(t.length),n=new Uint8Array(i),r=0;r<t.length;r+=1)n[r]=t.charCodeAt(r);return o=e.split(",")[0].split(":")[1].split(";")[0],s?new Blob([l?n:i],{type:o}):((a=new d).append(i),a.getBlob(o))};e.HTMLCanvasElement&&!t.toBlob&&(t.mozGetAsFile?t.toBlob=function(e,t){e(this.mozGetAsFile("blob",t))}:t.toDataURL&&i&&(t.toBlob=function(e,t){e(i(this.toDataURL(t)))})),"function"==typeof define&&define.amd?define(function(){return i}):e.dataURLtoBlob=i}(this),
/*
 * JavaScript Templates 2.1.0
 * https://github.com/blueimp/JavaScript-Templates
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 *
 * Inspired by John Resig's JavaScript Micro-Templating:
 * http://ejohn.org/blog/javascript-micro-templating/
 */
function(e){"use strict";var n=function(e,t){var i=/[^\w\-\.:]/.test(e)?new Function(n.arg+",tmpl","var _e=tmpl.encode"+n.helper+",_s='"+e.replace(n.regexp,n.func)+"';return _s;"):n.cache[e]=n.cache[e]||n(n.load(e));return t?i(t,n):function(e){return i(e,n)}};n.cache={},n.load=function(e){return document.getElementById(e).innerHTML},n.regexp=/([\s'\\])(?![^%]*%\})|(?:\{%(=|#)([\s\S]+?)%\})|(\{%)|(%\})/g,n.func=function(e,t,i,n,r,o){return t?{"\n":"\\n","\r":"\\r","\t":"\\t"," ":" "}[e]||"\\"+e:i?"="===i?"'+_e("+n+")+'":"'+("+n+"||'')+'":r?"';":o?"_s+='":void 0},n.encReg=/[<>&"'\x00]/g,n.encMap={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;"},n.encode=function(e){return String(e||"").replace(n.encReg,function(e){return n.encMap[e]||""})},n.arg="o",n.helper=",print=function(s,e){_s+=e&&(s||'')||_e(s);},include=function(s,d){_s+=tmpl(s,d);}","function"==typeof define&&define.amd?define(function(){return n}):e.tmpl=n}(this),
/*
 * jQuery Iframe Transport Plugin 1.6.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e(window.jQuery)}(function(s){"use strict";var n=0;s.ajaxTransport("iframe",function(r){var o,a,t;if(r.async)return{send:function(e,i){(o=s('<form style="display:none;"></form>')).attr("accept-charset",r.formAcceptCharset),t=/\?/.test(r.url)?"&":"?","DELETE"===r.type?(r.url=r.url+t+"_method=DELETE",r.type="POST"):"PUT"===r.type?(r.url=r.url+t+"_method=PUT",r.type="POST"):"PATCH"===r.type&&(r.url=r.url+t+"_method=PATCH",r.type="POST"),a=s('<iframe src="javascript:false;" name="iframe-transport-'+(n+=1)+'"></iframe>').bind("load",function(){var n,t=s.isArray(r.paramName)?r.paramName:[r.paramName];a.unbind("load").bind("load",function(){var e;try{if(!(e=a.contents()).length||!e[0].firstChild)throw new Error}catch(t){e=undefined}i(200,"success",{iframe:e}),s('<iframe src="javascript:false;"></iframe>').appendTo(o),o.remove()}),o.prop("target",a.prop("name")).prop("action",r.url).prop("method",r.type),r.formData&&s.each(r.formData,function(e,t){s('<input type="hidden"/>').prop("name",t.name).val(t.value).appendTo(o)}),r.fileInput&&r.fileInput.length&&"POST"===r.type&&(n=r.fileInput.clone(),r.fileInput.after(function(e){return n[e]}),r.paramName&&r.fileInput.each(function(e){s(this).prop("name",t[e]||r.paramName)}),o.append(r.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data")),o.submit(),n&&n.length&&r.fileInput.each(function(e,t){var i=s(n[e]);s(t).prop("name",i.prop("name")),i.replaceWith(t)})}),o.append(a).appendTo(document.body)},abort:function(){a&&a.unbind("load").prop("src","javascript".concat(":false;")),o&&o.remove()}}}),s.ajaxSetup({converters:{"iframe text":function(e){return e&&s(e[0].body).text()},"iframe json":function(e){return e&&s.parseJSON(s(e[0].body).text())},"iframe html":function(e){return e&&s(e[0].body).html()},"iframe script":function(e){return e&&s.globalEval(s(e[0].body).text())}}})}),
/*
 * jQuery File Upload Plugin 5.21
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(f){"use strict";f.support.xhrFileUpload=!(!window.XMLHttpRequestUpload||!window.FileReader),f.support.xhrFormDataFileUpload=!!window.FormData,f.propHooks.elements={get:function(e){return f.nodeName(e,"form")?f.grep(e.elements,function(e){return!f.nodeName(e,"input")||"file"!==e.type}):null}},f.widget("blueimp.fileupload",{options:{dropZone:f(document),pasteZone:f(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,formData:function(e){return e.serializeArray()},add:function(e,t){t.submit()},processData:!1,contentType:!1,cache:!1},_refreshOptionsList:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_BitrateTimer:function(){this.timestamp=+new Date,this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,i){var n=e-this.timestamp;return(!this.bitrate||!i||i<n)&&(this.bitrate=(t-this.loaded)*(1e3/n)*8,this.loaded=t,this.timestamp=e),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&f.support.xhrFileUpload||f.support.xhrFormDataFileUpload)},_getFormData:function(e){var i;return"function"==typeof e.formData?e.formData(e.form):f.isArray(e.formData)?e.formData:e.formData?(i=[],f.each(e.formData,function(e,t){i.push({name:e,value:t})}),i):[]},_getTotal:function(e){var i=0;return f.each(e,function(e,t){i+=t.size||1}),i},_onProgress:function(e,t){if(e.lengthComputable){var i,n,r=+new Date;if(t._time&&t.progressInterval&&r-t._time<t.progressInterval&&e.loaded!==e.total)return;t._time=r,i=t.total||this._getTotal(t.files),n=parseInt(e.loaded/e.total*(t.chunkSize||i),10)+(t.uploadedBytes||0),this._loaded+=n-(t.loaded||t.uploadedBytes||0),t.lengthComputable=!0,t.loaded=n,t.total=i,t.bitrate=t._bitrateTimer.getBitrate(r,n,t.bitrateInterval),this._trigger("progress",e,t),this._trigger("progressall",e,{lengthComputable:!0,loaded:this._loaded,total:this._total,bitrate:this._bitrateTimer.getBitrate(r,this._loaded,t.bitrateInterval)})}},_initProgressListener:function(i){var n=this,e=i.xhr?i.xhr():f.ajaxSettings.xhr();e.upload&&(f(e.upload).bind("progress",function(e){var t=e.originalEvent;e.lengthComputable=t.lengthComputable,e.loaded=t.loaded,e.total=t.total,n._onProgress(e,i)}),i.xhr=function(){return e})},_initXHRData:function(i){var n,e=i.files[0],t=i.multipart||!f.support.xhrFileUpload,r=i.paramName[0];i.headers=i.headers||{},i.contentRange&&(i.headers["Content-Range"]=i.contentRange),t?f.support.xhrFormDataFileUpload&&(i.postMessage?(n=this._getFormData(i),i.blob?n.push({name:r,value:i.blob}):f.each(i.files,function(e,t){n.push({name:i.paramName[e]||r,value:t})})):(i.formData instanceof FormData?n=i.formData:(n=new FormData,f.each(this._getFormData(i),function(e,t){n.append(t.name,t.value)})),i.blob?(i.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"',n.append(r,i.blob,e.name)):f.each(i.files,function(e,t){(window.Blob&&t instanceof Blob||window.File&&t instanceof File)&&n.append(i.paramName[e]||r,t,t.name)})),i.data=n):(i.headers["Content-Disposition"]='attachment; filename="'+encodeURI(e.name)+'"',i.contentType=e.type,i.data=i.blob||e),i.blob=null},_initIframeSettings:function(e){e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&f("<a></a>").prop("href",e.url).prop("host")!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e,"iframe")},_getParamName:function(e){var t=f(e.fileInput),n=e.paramName;return n?f.isArray(n)||(n=[n]):(n=[],t.each(function(){for(var e=f(this),t=e.prop("name")||"files[]",i=(e.prop("files")||[1]).length;i;)n.push(t),i-=1}),n.length||(n=[t.prop("name")||"files[]"])),n},_initFormSettings:function(e){e.form&&e.form.length||(e.form=f(e.fileInput.prop("form")),e.form.length||(e.form=f(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var t=f.extend({},this.options,e);return this._initFormSettings(t),this._initDataSettings(t),t},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(e,t,i){var n=f.Deferred(),r=n.promise();return t=t||this.options.context||r,!0===e?n.resolveWith(t,i):!1===e&&n.rejectWith(t,i),r.abort=n.promise,this._enhancePromise(r)},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),i=t&&t.split("-"),n=i&&1<i.length&&parseInt(i[1],10);return n&&n+1},_chunkedUpload:function(r,e){var t,o,a=this,i=r.files[0],s=i.size,l=r.uploadedBytes=r.uploadedBytes||0,d=r.maxChunkSize||s,u=i.slice||i.webkitSlice||i.mozSlice,p=f.Deferred(),n=p.promise();return!(!(this._isXHRUpload(r)&&u&&(l||d<s))||r.data)&&(!!e||(s<=l?(i.error="Uploaded bytes exceed file size",this._getXHRPromise(!1,r.context,[null,"error",i.error])):(o=function(){var n=f.extend({},r);n.blob=u.call(i,l,l+d,i.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+s,a._initXHRData(n),a._initProgressListener(n),t=(!1!==a._trigger("chunksend",null,n)&&f.ajax(n)||a._getXHRPromise(!1,n.context)).done(function(e,t,i){l=a._getUploadedBytes(i)||l+n.chunkSize,(!n.loaded||n.loaded<n.total)&&a._onProgress(f.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),r.uploadedBytes=n.uploadedBytes=l,n.result=e,n.textStatus=t,n.jqXHR=i,a._trigger("chunkdone",null,n),a._trigger("chunkalways",null,n),l<s?o():p.resolveWith(n.context,[e,t,i])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,a._trigger("chunkfail",null,n),a._trigger("chunkalways",null,n),p.rejectWith(n.context,[e,t,i])})},this._enhancePromise(n),n.abort=function(){return t.abort()},o(),n)))},_beforeSend:function(e,t){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer),this._active+=1,this._loaded+=t.uploadedBytes||0,this._total+=this._getTotal(t.files)},_onDone:function(e,t,i,n){if(!this._isXHRUpload(n)||!n.loaded||n.loaded<n.total){var r=this._getTotal(n.files)||1;this._onProgress(f.Event("progress",{lengthComputable:!0,loaded:r,total:r}),n)}n.result=e,n.textStatus=t,n.jqXHR=i,this._trigger("done",null,n)},_onFail:function(e,t,i,n){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,this._trigger("fail",null,n),n.recalculateProgress&&(this._loaded-=n.loaded||n.uploadedBytes||0,this._total-=n.total||this._getTotal(n.files))},_onAlways:function(e,t,i,n){this._active-=1,this._trigger("always",null,n),0===this._active&&(this._trigger("stop"),this._loaded=this._total=0,this._bitrateTimer=null)},_onSend:function(e,t){var i,n,r,o,a=this,s=a._getAJAXSettings(t),l=function(){return a._sending+=1,s._bitrateTimer=new a._BitrateTimer,i=i||((n||!1===a._trigger("send",e,s))&&a._getXHRPromise(!1,s.context,n)||a._chunkedUpload(s)||f.ajax(s)).done(function(e,t,i){a._onDone(e,t,i,s)}).fail(function(e,t,i){a._onFail(e,t,i,s)}).always(function(e,t,i){if(a._sending-=1,a._onAlways(e,t,i,s),s.limitConcurrentUploads&&s.limitConcurrentUploads>a._sending)for(var n=a._slots.shift();n;){if(n.state?"pending"===n.state():!n.isRejected()){n.resolve();break}n=a._slots.shift()}})};return this._beforeSend(e,s),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?((o=1<this.options.limitConcurrentUploads?(r=f.Deferred(),this._slots.push(r),r.pipe(l)):this._sequence=this._sequence.pipe(l,l)).abort=function(){return n=[undefined,"abort","abort"],i?i.abort():(r&&r.rejectWith(s.context,n),l())},this._enhancePromise(o)):l()},_onAdd:function(n,r){var o,e,a,t,s=this,l=!0,i=f.extend({},this.options,r),d=i.limitMultiFileUploads,u=this._getParamName(i);if((i.singleFileUploads||d)&&this._isXHRUpload(i))if(!i.singleFileUploads&&d)for(a=[],o=[],t=0;t<r.files.length;t+=d)a.push(r.files.slice(t,t+d)),(e=u.slice(t,t+d)).length||(e=u),o.push(e);else o=u;else a=[r.files],o=[u];return r.originalFiles=r.files,f.each(a||r.files,function(e,t){var i=f.extend({},r);return i.files=a?t:[t],i.paramName=o[e],i.submit=function(){return i.jqXHR=this.jqXHR=!1!==s._trigger("submit",n,this)&&s._onSend(n,this),this.jqXHR},l=s._trigger("add",n,i)}),l},_replaceFileInput:function(i){var n=i.clone(!0);f("<form></form>").append(n)[0].reset(),i.after(n).detach(),f.cleanData(i.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,t){return t===i[0]?n[0]:t}),i[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,i){var n=this,r=f.Deferred(),o=function(e){e&&!e.entry&&(e.entry=t),r.resolve([e])};return i=i||"",t.isFile?t._file?(t._file.relativePath=i,r.resolve(t._file)):t.file(function(e){e.relativePath=i,r.resolve(e)},o):t.isDirectory?t.createReader().readEntries(function(e){n._handleFileTreeEntries(e,i+t.name+"/").done(function(e){r.resolve(e)}).fail(o)},o):r.resolve([]),r.promise()},_handleFileTreeEntries:function(e,t){var i=this;return f.when.apply(f,f.map(e,function(e){return i._handleFileTreeEntry(e,t)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(e){var t=(e=e||{}).items;return t&&t.length&&(t[0].webkitGetAsEntry||t[0].getAsEntry)?this._handleFileTreeEntries(f.map(t,function(e){var t;return e.webkitGetAsEntry?((t=e.webkitGetAsEntry())&&(t._file=e.getAsFile()),t):e.getAsEntry()})):f.Deferred().resolve(f.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var t,i,n=(e=f(e)).prop("webkitEntries")||e.prop("entries");if(n&&n.length)return this._handleFileTreeEntries(n);if((t=f.makeArray(e.prop("files"))).length)t[0].name===undefined&&t[0].fileName&&f.each(t,function(e,t){t.name=t.fileName,t.size=t.fileSize});else{if(!(i=e.prop("value")))return f.Deferred().resolve([]).promise();t=[{name:i.replace(/^.*\\/,"")}]}return f.Deferred().resolve(t).promise()},_getFileInputFiles:function(e){return e instanceof f&&1!==e.length?f.when.apply(f,f.map(e,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(e)},_onChange:function(t){var i=this,n={fileInput:f(t.target),form:f(t.target.form)};this._getFileInputFiles(n.fileInput).always(function(e){n.files=e,i.options.replaceFileInput&&i._replaceFileInput(n.fileInput),!1!==i._trigger("change",t,n)&&i._onAdd(t,n)})},_onPaste:function(e){var t=e.originalEvent.clipboardData,i=t&&t.items||[],n={files:[]};if(f.each(i,function(e,t){var i=t.getAsFile&&t.getAsFile();i&&n.files.push(i)}),!1===this._trigger("paste",e,n)||!1===this._onAdd(e,n))return!1},_onDrop:function(t){var i=this,e=t.dataTransfer=t.originalEvent.dataTransfer,n={};e&&e.files&&e.files.length&&t.preventDefault(),this._getDroppedFiles(e).always(function(e){n.files=e,!1!==i._trigger("drop",t,n)&&i._onAdd(t,n)})},_onDragOver:function(e){var t=e.dataTransfer=e.originalEvent.dataTransfer;if(!1===this._trigger("dragover",e))return!1;t&&-1!==f.inArray("Files",t.types)&&(t.dropEffect="copy",e.preventDefault())},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(e,t){var i=-1!==f.inArray(e,this._refreshOptionsList);i&&this._destroyEventHandlers(),this._super(e,t),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;e.fileInput===undefined?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof f||(e.fileInput=f(e.fileInput)),e.dropZone instanceof f||(e.dropZone=f(e.dropZone)),e.pasteZone instanceof f||(e.pasteZone=f(e.pasteZone))},_create:function(){var e=this.options;f.extend(e,f(this.element[0].cloneNode(!1)).data()),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=this._loaded=this._total=0,this._initEventHandlers()},_destroy:function(){this._destroyEventHandlers()},add:function(t){var i=this;t&&!this.options.disabled&&(t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,i._onAdd(null,t)}):(t.files=f.makeArray(t.files),this._onAdd(null,t)))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var i,n,r=this,o=f.Deferred(),e=o.promise();return e.abort=function(){return n=!0,i?i.abort():(o.reject(null,"abort","abort"),e)},this._getFileInputFiles(t.fileInput).always(function(e){n||(t.files=e,i=r._onSend(null,t).then(function(e,t,i){o.resolve(e,t,i)},function(e,t,i){o.reject(e,t,i)}))}),this._enhancePromise(e)}if(t.files=f.makeArray(t.files),t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),
/*
 * jQuery File Upload File Processing Plugin 1.2.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2012, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","load-image","canvas-to-blob","./jquery.fileupload"],e):e(window.jQuery,window.loadImage)}(function(a,o){"use strict";a.widget("blueimp.fileupload",a.blueimp.fileupload,{options:{process:[],add:function(e,t){a(this).fileupload("process",t).done(function(){t.submit()})}},processActions:{load:function(t,e){var i=this,n=t.files[t.index],r=a.Deferred();return window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype.toBlob&&("number"!==a.type(e.maxFileSize)||n.size<e.maxFileSize)&&(!e.fileTypes||e.fileTypes.test(n.type))?o(n,function(e){if(!e.src)return r.rejectWith(i,[t]);t.img=e,r.resolveWith(i,[t])}):r.rejectWith(i,[t]),r.promise()},resize:function(e,t){var i,n=e.img;return t=a.extend({canvas:!0},t),n&&((i=o.scale(n,t)).width===n.width&&i.height===n.height||(e.canvas=i)),e},save:function(t){if(!t.canvas)return t;var i=this,n=t.files[t.index],e=n.name,r=a.Deferred(),o=function(e){e.name||(n.type===e.type?e.name=n.name:n.name&&(e.name=n.name.replace(/\..+$/,"."+e.type.substr(6)))),t.files[t.index]=e,r.resolveWith(i,[t])};return t.canvas.mozGetAsFile?o(t.canvas.mozGetAsFile(/^image\/(jpeg|png)$/.test(n.type)&&e||(e&&e.replace(/\..+$/,"")||"blob")+".png",n.type)):t.canvas.toBlob(o,n.type),r.promise()}},_processFile:function(e,t,i){var n=this,r=a.Deferred().resolveWith(n,[{files:e,index:t}]).promise();return n._processing+=1,a.each(i.process,function(e,t){r=r.pipe(function(e){return n.processActions[t.action].call(this,e,t)})}),r.always(function(){n._processing-=1,0===n._processing&&n.element.removeClass("fileupload-processing")}),1===n._processing&&n.element.addClass("fileupload-processing"),r},process:function(i){var n=this,r=a.extend({},this.options,i);return r.process&&r.process.length&&this._isXHRUpload(r)&&a.each(i.files,function(t){n._processingQueue=n._processingQueue.pipe(function(){var e=a.Deferred();return n._processFile(i.files,t,r).always(function(){e.resolveWith(n)}),e.promise()})}),this._processingQueue},_create:function(){this._super(),this._processing=0,this._processingQueue=a.Deferred().resolveWith(this).promise()}})}),
/*
 * jQuery File Upload User Interface Plugin 7.3
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","tmpl","load-image","./jquery.fileupload-fp"],e):e(window.jQuery,window.tmpl,window.loadImage)}(function(l,t,o){"use strict";l.widget("blueimp.fileupload",l.blueimp.fileupload,{options:{autoUpload:!1,maxNumberOfFiles:undefined,maxFileSize:undefined,minFileSize:undefined,acceptFileTypes:/.+$/i,previewSourceFileTypes:/^image\/(gif|jpeg|png)$/,previewSourceMaxFileSize:5e6,previewMaxWidth:80,previewMaxHeight:80,previewAsCanvas:!0,uploadTemplateId:"template-upload",downloadTemplateId:"template-download",filesContainer:undefined,prependFiles:!1,dataType:"json",add:function(e,t){var i=l(this).data("blueimp-fileupload")||l(this).data("fileupload"),n=i.options,r=t.files;l(this).fileupload("process",t).done(function(){i._adjustMaxNumberOfFiles(-r.length),t.maxNumberOfFilesAdjusted=!0,t.files.valid=t.isValidated=i._validate(r),t.context=i._renderUpload(r).data("data",t),n.filesContainer[n.prependFiles?"prepend":"append"](t.context),i._renderPreviews(t),i._forceReflow(t.context),i._transition(t.context).done(function(){!1!==i._trigger("added",e,t)&&(n.autoUpload||t.autoUpload)&&!1!==t.autoUpload&&t.isValidated&&t.submit()})})},send:function(e,t){var i=l(this).data("blueimp-fileupload")||l(this).data("fileupload");return!(!t.isValidated&&(t.maxNumberOfFilesAdjusted||(i._adjustMaxNumberOfFiles(-t.files.length),t.maxNumberOfFilesAdjusted=!0),!i._validate(t.files)))&&(t.context&&t.dataType&&"iframe"===t.dataType.substr(0,6)&&t.context.find(".progress").addClass(!l.support.transition&&"progress-animated").attr("aria-valuenow",100).find(".bar").css("width","100%"),i._trigger("sent",e,t))},done:function(n,r){var o,e,a=l(this).data("blueimp-fileupload")||l(this).data("fileupload"),s=a._getFilesFromResponse(r);r.context?r.context.each(function(e){var t=s[e]||{error:"Empty file upload result"},i=a._addFinishedDeferreds();t.error&&a._adjustMaxNumberOfFiles(1),a._transition(l(this)).done(function(){var e=l(this);o=a._renderDownload([t]).replaceAll(e),a._forceReflow(o),a._transition(o).done(function(){r.context=l(this),a._trigger("completed",n,r),a._trigger("finished",n,r),i.resolve()})})}):(s.length&&(l.each(s,function(e,t){r.maxNumberOfFilesAdjusted&&t.error?a._adjustMaxNumberOfFiles(1):r.maxNumberOfFilesAdjusted||t.error||a._adjustMaxNumberOfFiles(-1)}),r.maxNumberOfFilesAdjusted=!0),o=a._renderDownload(s).appendTo(a.options.filesContainer),a._forceReflow(o),e=a._addFinishedDeferreds(),a._transition(o).done(function(){r.context=l(this),a._trigger("completed",n,r),a._trigger("finished",n,r),e.resolve()}))},fail:function(i,n){var r,o,a=l(this).data("blueimp-fileupload")||l(this).data("fileupload");n.maxNumberOfFilesAdjusted&&a._adjustMaxNumberOfFiles(n.files.length),n.context?n.context.each(function(e){if("abort"!==n.errorThrown){var t=n.files[e];t.error=t.error||n.errorThrown||!0,o=a._addFinishedDeferreds(),a._transition(l(this)).done(function(){var e=l(this);r=a._renderDownload([t]).replaceAll(e),a._forceReflow(r),a._transition(r).done(function(){n.context=l(this),a._trigger("failed",i,n),a._trigger("finished",i,n),o.resolve()})})}else o=a._addFinishedDeferreds(),a._transition(l(this)).done(function(){l(this).remove(),a._trigger("failed",i,n),a._trigger("finished",i,n),o.resolve()})}):"abort"!==n.errorThrown?(n.context=a._renderUpload(n.files).appendTo(a.options.filesContainer).data("data",n),a._forceReflow(n.context),o=a._addFinishedDeferreds(),a._transition(n.context).done(function(){n.context=l(this),a._trigger("failed",i,n),a._trigger("finished",i,n),o.resolve()})):(a._trigger("failed",i,n),a._trigger("finished",i,n),a._addFinishedDeferreds().resolve())},progress:function(e,t){if(t.context){var i=parseInt(t.loaded/t.total*100,10);t.context.find(".progress").attr("aria-valuenow",i).find(".bar").css("width",i+"%")}},progressall:function(e,t){var i=l(this),n=parseInt(t.loaded/t.total*100,10),r=i.find(".fileupload-progress"),o=r.find(".progress-extended");o.length&&o.html((i.data("blueimp-fileupload")||i.data("fileupload"))._renderExtendedProgress(t)),r.find(".progress").attr("aria-valuenow",n).find(".bar").css("width",n+"%")},start:function(e){var t=l(this).data("blueimp-fileupload")||l(this).data("fileupload");t._resetFinishedDeferreds(),t._transition(l(this).find(".fileupload-progress")).done(function(){t._trigger("started",e)})},stop:function(e){var t=l(this).data("blueimp-fileupload")||l(this).data("fileupload"),i=t._addFinishedDeferreds();l.when.apply(l,t._getFinishedDeferreds()).done(function(){t._trigger("stopped",e)}),t._transition(l(this).find(".fileupload-progress")).done(function(){l(this).find(".progress").attr("aria-valuenow","0").find(".bar").css("width","0%"),l(this).find(".progress-extended").html("&nbsp;"),i.resolve()})},destroy:function(e,t){var i=l(this).data("blueimp-fileupload")||l(this).data("fileupload");t.url&&(l.ajax(t),i._adjustMaxNumberOfFiles(1)),i._transition(t.context).done(function(){l(this).remove(),i._trigger("destroyed",e,t)})}},_resetFinishedDeferreds:function(){this._finishedUploads=[]},_addFinishedDeferreds:function(e){return e||(e=l.Deferred()),this._finishedUploads.push(e),e},_getFinishedDeferreds:function(){return this._finishedUploads},_getFilesFromResponse:function(e){return e.result&&l.isArray(e.result.files)?e.result.files:[]},_enableDragToDesktop:function(){var e=l(this),i=e.prop("href"),n=e.prop("download"),r="application/octet-stream";e.bind("dragstart",function(e){try{e.originalEvent.dataTransfer.setData("DownloadURL",[r,n,i].join(":"))}catch(t){}})},_adjustMaxNumberOfFiles:function(e){"number"==typeof this.options.maxNumberOfFiles&&(this.options.maxNumberOfFiles+=e,this.options.maxNumberOfFiles<1?this._disableFileInputButton():this._enableFileInputButton())},_formatFileSize:function(e){return"number"!=typeof e?"":1e9<=e?(e/1e9).toFixed(2)+" GB":1e6<=e?(e/1e6).toFixed(2)+" MB":(e/1e3).toFixed(2)+" KB"},_formatBitrate:function(e){return"number"!=typeof e?"":1e9<=e?(e/1e9).toFixed(2)+" Gbit/s":1e6<=e?(e/1e6).toFixed(2)+" Mbit/s":1e3<=e?(e/1e3).toFixed(2)+" kbit/s":e.toFixed(2)+" bit/s"},_formatTime:function(e){var t=new Date(1e3*e),i=parseInt(e/86400,10);return(i=i?i+"d ":"")+("0"+t.getUTCHours()).slice(-2)+":"+("0"+t.getUTCMinutes()).slice(-2)+":"+("0"+t.getUTCSeconds()).slice(-2)},_formatPercentage:function(e){return(100*e).toFixed(2)+" %"},_renderExtendedProgress:function(e){return this._formatBitrate(e.bitrate)+" | "+this._formatTime(8*(e.total-e.loaded)/e.bitrate)+" | "+this._formatPercentage(e.loaded/e.total)+" | "+this._formatFileSize(e.loaded)+" / "+this._formatFileSize(e.total)},_hasError:function(e){return e.error?e.error:this.options.maxNumberOfFiles<0?"Maximum number of files exceeded":this.options.acceptFileTypes.test(e.type)||this.options.acceptFileTypes.test(e.name)?this.options.maxFileSize&&e.size>this.options.maxFileSize?"File is too big":"number"==typeof e.size&&e.size<this.options.minFileSize?"File is too small":null:"Filetype not allowed"},_validate:function(e){var i=this,n=!!e.length;return l.each(e,function(e,t){t.error=i._hasError(t),t.error&&(n=!1)}),n},_renderTemplate:function(e,t){if(!e)return l();var i=e({files:t,formatFileSize:this._formatFileSize,options:this.options});return i instanceof l?i:l(this.options.templatesContainer).html(i).children()},_renderPreview:function(e,t){var i=this,n=this.options,r=l.Deferred();return(o&&o(e,function(e){t.append(e),i._forceReflow(t),i._transition(t).done(function(){r.resolveWith(t)}),l.contains(i.document[0].body,t[0])||r.resolveWith(t)},{maxWidth:n.previewMaxWidth,maxHeight:n.previewMaxHeight,canvas:n.previewAsCanvas})||r.resolveWith(t))&&r},_renderPreviews:function(r){var o=this,t=this.options;return r.context.find(".preview span").each(function(e,i){var n=r.files[e];t.previewSourceFileTypes.test(n.type)&&("number"!==l.type(t.previewSourceMaxFileSize)||n.size<t.previewSourceMaxFileSize)&&(o._processingQueue=o._processingQueue.pipe(function(){var e=l.Deferred(),t=l.Event("previewdone",{target:i});return o._renderPreview(n,l(i)).done(function(){o._trigger(t.type,t,r),e.resolveWith(o)}),e.promise()}))}),this._processingQueue},_renderUpload:function(e){return this._renderTemplate(this.options.uploadTemplate,e)},_renderDownload:function(e){return this._renderTemplate(this.options.downloadTemplate,e).find("a[download]").each(this._enableDragToDesktop).end()},_startHandler:function(e){e.preventDefault();var t=l(e.currentTarget),i=t.closest(".template-upload").data("data");i&&i.submit&&!i.jqXHR&&i.submit()&&t.prop("disabled",!0)},_cancelHandler:function(e){e.preventDefault();var t=l(e.currentTarget).closest(".template-upload").data("data")||{};t.jqXHR?t.jqXHR.abort():(t.errorThrown="abort",this._trigger("fail",e,t))},_deleteHandler:function(e){e.preventDefault();var t=l(e.currentTarget);this._trigger("destroy",e,l.extend({context:t.closest(".template-download"),type:"DELETE",dataType:this.options.dataType},t.data()))},_forceReflow:function(e){return l.support.transition&&e.length&&e[0].offsetWidth},_transition:function(t){var i=l.Deferred();return l.support.transition&&t.hasClass("fade")?t.bind(l.support.transition.end,function(e){e.target===t[0]&&(t.unbind(l.support.transition.end),i.resolveWith(t))}).toggleClass("in"):(t.toggleClass("in"),i.resolveWith(t)),i},_initButtonBarEventHandlers:function(){var t=this.element.find(".fileupload-buttonbar"),i=this.options.filesContainer;this._on(t.find(".start"),{click:function(e){e.preventDefault(),i.find(".start button").click()}}),this._on(t.find(".cancel"),{click:function(e){e.preventDefault(),i.find(".cancel button").click()}}),this._on(t.find(".delete"),{click:function(e){e.preventDefault(),i.find(".delete input:checked").siblings("button").click(),t.find(".toggle").prop("checked",!1)}}),this._on(t.find(".toggle"),{change:function(e){i.find(".delete input").prop("checked",l(e.currentTarget).is(":checked"))}})},_destroyButtonBarEventHandlers:function(){this._off(this.element.find(".fileupload-buttonbar button"),"click"),this._off(this.element.find(".fileupload-buttonbar .toggle"),"change.")},_initEventHandlers:function(){this._super(),this._on(this.options.filesContainer,{"click .start button":this._startHandler,"click .cancel button":this._cancelHandler,"click .delete button":this._deleteHandler}),this._initButtonBarEventHandlers()},_destroyEventHandlers:function(){this._destroyButtonBarEventHandlers(),this._off(this.options.filesContainer,"click"),this._super()},_enableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!1).parent().removeClass("disabled")},_disableFileInputButton:function(){this.element.find(".fileinput-button input").prop("disabled",!0).parent().addClass("disabled")},_initTemplates:function(){var e=this.options;e.templatesContainer=this.document[0].createElement(e.filesContainer.prop("nodeName")),t&&(e.uploadTemplateId&&(e.uploadTemplate=t(e.uploadTemplateId)),e.downloadTemplateId&&(e.downloadTemplate=t(e.downloadTemplateId)))},_initFilesContainer:function(){var e=this.options;e.filesContainer===undefined?e.filesContainer=this.element.find(".files"):e.filesContainer instanceof l||(e.filesContainer=l(e.filesContainer))},_stringToRegExp:function(e){var t=e.split("/"),i=t.pop();return t.shift(),new RegExp(t.join("/"),i)},_initRegExpOptions:function(){var e=this.options;"string"===l.type(e.acceptFileTypes)&&(e.acceptFileTypes=this._stringToRegExp(e.acceptFileTypes)),"string"===l.type(e.previewSourceFileTypes)&&(e.previewSourceFileTypes=this._stringToRegExp(e.previewSourceFileTypes))},_initSpecialOptions:function(){this._super(),this._initFilesContainer(),this._initTemplates(),this._initRegExpOptions()},_setOption:function(e,t){this._super(e,t),"maxNumberOfFiles"===e&&this._adjustMaxNumberOfFiles(0)},_create:function(){this._super(),this._refreshOptionsList.push("filesContainer","uploadTemplateId","downloadTemplateId"),this._processingQueue||(this._processingQueue=l.Deferred().resolveWith(this).promise(),this.process=function(){return this._processingQueue}),this._resetFinishedDeferreds()},enable:function(){var e=!1;this.options.disabled&&(e=!0),this._super(),e&&(this.element.find("input, button").prop("disabled",!1),this._enableFileInputButton())},disable:function(){this.options.disabled||(this.element.find("input, button").prop("disabled",!0),this._disableFileInputButton()),this._super()}})}),
/*
 * jQuery File Upload Plugin Localization Example 6.5.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2012, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
window.locale={fileupload:{errors:{maxFileSize:"File is too big",minFileSize:"File is too small",acceptFileTypes:"Filetype not allowed",maxNumberOfFiles:"Max number of files exceeded",uploadedBytes:"Uploaded bytes exceed file size",emptyResult:"Empty file upload result"},error:"Error",start:"Start",cancel:"Cancel",destroy:"Delete"}};